"use strict";(self.webpackChunkconnections_app=self.webpackChunkconnections_app||[]).push([[516],{516:(D,u,i)=>{i.r(u),i.d(u,{ProfileComponent:()=>U});var c=i(6814),m=i(617),d=i(2032),g=i(5683),p=i(2296),_=i(6223),P=i(2171),f=i(4423),s=i(5665),t=i(9212),C=i(63),v=i(4567),E=i(4221);function h(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Oqu(o.uid.S)}}function x(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Oqu(o.email.S)}}function A(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Oqu(t.xi3(2,1,o.createdAt.S,"medium"))}}function T(n,l){if(1&n&&t._UZ(0,"input",5),2&n){const o=t.oxw(2);t.Q6J("formControl",o.name)}}function Z(n,l){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&n){const o=t.oxw().ngIf;t.xp6(1),t.Oqu(o.name.S)}}function O(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"button",9),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.editProfile())}),t._uU(1," edit "),t.qZA()}}function M(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"button",10),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.save())}),t.ALo(1,"async"),t._uU(2," save "),t.qZA()}if(2&n){const o=t.oxw(2);t.Q6J("disabled",!o.name.valid||t.lcZ(1,1,o.loading$))}}function I(n,l){if(1&n){const o=t.EpF();t.TgZ(0,"button",11),t.NdJ("click",function(){t.CHM(o);const a=t.oxw(2);return t.KtG(a.cancel())}),t._uU(1," cancel "),t.qZA()}}function b(n,l){if(1&n&&(t.TgZ(0,"div")(1,"mat-list-item")(2,"label"),t._uU(3," User's ID:"),t.qZA(),t.YNc(4,h,2,1,"span"),t.qZA(),t.TgZ(5,"mat-list-item")(6,"label"),t._uU(7," E-mail: :"),t.qZA(),t.YNc(8,x,2,1,"span"),t.qZA(),t.TgZ(9,"mat-list-item")(10,"label"),t._uU(11," Created at:"),t.qZA(),t.YNc(12,A,3,4,"span"),t.qZA(),t.TgZ(13,"mat-list-item")(14,"label"),t._uU(15," Name: "),t.qZA(),t.YNc(16,T,1,1,"input",5),t.ALo(17,"async"),t.YNc(18,Z,2,1,"span"),t.ALo(19,"async"),t.YNc(20,O,2,0,"button",6),t.ALo(21,"async"),t.YNc(22,M,3,3,"button",7),t.ALo(23,"async"),t.YNc(24,I,2,0,"button",8),t.ALo(25,"async"),t.qZA()()),2&n){const o=l.ngIf,e=t.oxw();t.xp6(4),t.um2(4,o.uid?4:-1),t.xp6(4),t.um2(8,o.email?8:-1),t.xp6(4),t.um2(12,o.createdAt?12:-1),t.xp6(4),t.um2(16,t.lcZ(17,8,e.editable$)?16:-1),t.xp6(2),t.um2(18,!t.lcZ(19,10,e.editable$)&&o.name?18:-1),t.xp6(2),t.Q6J("ngIf",!t.lcZ(21,12,e.editable$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,14,e.editable$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(25,16,e.editable$))}}let U=(()=>{class n{constructor(o,e,a){this.loadingService=o,this.authService=e,this.store=a,this.profile$=this.store.select(P.dy),this.loading$=this.loadingService.isLoading$,this.editable$=this.loadingService.isEditable$,this.profile$.subscribe(r=>{this.userName=void 0!==r?.name?r.name.S:""})}ngOnInit(){this.store.dispatch((0,f.Ai)())}editProfile(){this.loadingService.startEdit(),this.name=new _.NI(this.userName,[_.kI.required,_.kI.maxLength(40),_.kI.pattern(/^[a-zA-Z\s]*$/)])}save(){this.loadingService.startLoading(),this.store.dispatch((0,f.ck)({name:this.name.value}))}cancel(){this.name.setValue(this.userName),this.loadingService.finishEdit()}logout(){this.authService.logout()}static#t=this.\u0275fac=function(e){return new(e||n)(t.Y36(C.b),t.Y36(v.e),t.Y36(E.yh))};static#n=this.\u0275cmp=t.Xpm({type:n,selectors:[["app-profile"]],standalone:!0,features:[t.jDz],decls:11,vars:3,consts:[[1,"page"],[1,"content"],["mat-flat-button","","color","primary",1,"logout",3,"click"],["matListItemIcon",""],[4,"ngIf"],["mat-input","",3,"formControl"],["mat-flat-button","","color","primary",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-flat-button","",3,"click",4,"ngIf"],["mat-flat-button","","color","primary",3,"click"],["mat-flat-button","","color","primary",3,"disabled","click"],["mat-flat-button","",3,"click"]],template:function(e,a){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return a.logout()}),t._uU(3,"logout"),t.qZA(),t.TgZ(4,"mat-list")(5,"h2")(6,"mat-icon",3),t._uU(7,"person"),t.qZA(),t._uU(8," Profile"),t.qZA(),t.YNc(9,b,26,18,"div",4),t.ALo(10,"async"),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("ngIf",t.lcZ(10,1,a.profile$)))},dependencies:[c.ez,c.O5,c.Ov,c.uU,_.u5,_.Fj,_.JJ,s.ie,s.i$,s.Tg,s.Yt,_.UX,_.oH,g.lN,d.c,m.Ps,m.Hw,p.ot,p.lW],styles:[".page[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.content[_ngcontent-%COMP%]{width:500px;height:500px;padding:20px 30px}.content[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;padding-right:10px}.content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 10px}.logout[_ngcontent-%COMP%]{float:right}"]})}return n})()}}]);